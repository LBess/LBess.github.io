<!doctype html><html lang=en><head><title>All I Wanted was a Currently Reading Section - Liam Bessell</title><link rel=canonical href=https://lbess.github.io/blog/goodreads-scraping/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A discussion on how I added the section on my website to show what I'm currently reading."><meta name=theme-color content="#0BFF01"><meta name=generator content="Hugo 0.68.3"><link rel=stylesheet href=https://lbess.github.io/sass/style.min.ba3e5f6326ac7c4c9ca2fa7b5c545cf4c1efe1c12b282d34c547a5235c8eeff3.css integrity="sha256-uj5fYyasfEycovp7XFRc9MHv4cErKC00xUelI1yO7/M=" media=screen><link rel=stylesheet href=https://lbess.github.io/syntax.min.css integrity media=screen><link rel=stylesheet href=[/css/list_print.css%20/css/list.css] media=screen><meta property="og:title" content="All I Wanted was a Currently Reading Section"><meta property="og:description" content="A discussion on how I added the section on my website to show what I'm currently reading."><meta property="og:type" content="article"><meta property="og:url" content="https://lbess.github.io/blog/goodreads-scraping/"><meta property="article:published_time" content="2022-03-07T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-07T00:00:00+00:00"><meta itemprop=name content="All I Wanted was a Currently Reading Section"><meta itemprop=description content="A discussion on how I added the section on my website to show what I'm currently reading."><meta itemprop=datePublished content="2022-03-07T00:00:00+00:00"><meta itemprop=dateModified content="2022-03-07T00:00:00+00:00"><meta itemprop=wordCount content="846"><meta itemprop=keywords content><link rel=stylesheet href=https://lbess.github.io/css/list_print.css><link rel=stylesheet href=https://lbess.github.io/css/list.css></head><body><header style="background-image:linear-gradient( rgba(0,0,0,0.4),rgba(0,0,0,0.4) ),url('https://lbess.github.io/images/ziggurat.jpg')"><div class=intro><div class=logo-container><a href=/><img src=https://lbess.github.io/images/profile.jpg alt="Profile Big Bend NP 2021" class=rounded-logo></a></div><h2>Liam Bessell</h2><h3>Journey Before Destination</h3><div class=menu><p><a href=/portfolio/>Portfolio</a></p><p><a href=/blog/>Blog</a></p><p><a href=mailto:lbessell7@gmail.com target=_blank rel=external>Contact Me</a></p></div></div><div class=socials><a href=https://github.com/LBess class=social-link target=_blank rel=noopener><div class=icon><svg width="35" height="35" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M102.679.0H12.32C5.52.0.0 5.519.0 12.321v90.358C0 109.48 5.519 115 12.321 115h90.358c6.802.0 12.321-5.519 12.321-12.321V12.32C115 5.52 109.481.0 102.679.0zM71.182 98.494c-2.156.385-2.952-.95-2.952-2.053.0-1.386.051-8.471.051-14.195.0-4.005-1.335-6.546-2.9-7.881C74.878 73.313 84.89 72.003 84.89 55.6c0-4.671-1.669-7.007-4.39-10.01.436-1.105 1.9-5.648-.436-11.552-3.568-1.104-11.731 4.595-11.731 4.595-3.389-.95-7.06-1.438-10.679-1.438-3.62.0-7.29.488-10.679 1.438.0.0-8.163-5.699-11.73-4.595-2.337 5.878-.899 10.422-.437 11.551-2.72 3.004-4.004 5.34-4.004 10.011.0 16.326 9.574 17.712 19.072 18.765-1.232 1.104-2.336 3.003-2.72 5.724-2.44 1.104-8.677 3.004-12.4-3.568-2.335-4.056-6.545-4.39-6.545-4.39-4.159-.05-.282 2.619-.282 2.619 2.772 1.283 4.723 6.212 4.723 6.212 2.49 7.624 14.4 5.057 14.4 5.057.0 3.568.052 9.37.052 10.422.0 1.104-.77 2.438-2.952 2.053C27.21 92.821 15.35 76.701 15.35 57.86c0-23.564 18.02-41.456 41.585-41.456s42.663 17.892 42.663 41.456c.026 18.842-11.474 34.988-28.416 40.635zM46 82.81c-.488.103-.95-.102-1.001-.436-.051-.385.282-.719.77-.822.488-.05.95.154 1.001.488.077.334-.257.668-.77.77zm-2.439-.23c0 .333-.385.615-.898.615-.565.052-.95-.23-.95-.616.0-.333.385-.616.899-.616.487-.051.95.231.95.616zm-3.516-.283c-.103.334-.616.488-1.053.334-.488-.103-.821-.488-.719-.822.103-.334.617-.488 1.053-.385.513.154.847.54.719.873zm-3.158-1.386c-.23.282-.718.23-1.104-.154-.385-.334-.487-.822-.23-1.053.23-.282.718-.23 1.103.154.334.334.462.847.231 1.053zm-2.336-2.336c-.23.154-.667.0-.95-.385-.282-.385-.282-.822.0-1.001.283-.231.72-.052.95.333.283.385.283.847.0 1.053zm-1.668-2.49c-.231.23-.616.103-.899-.154-.282-.334-.333-.719-.102-.899.23-.23.616-.102.898.154.282.334.334.72.103.899zm-1.72-1.9c-.103.231-.436.283-.719.103-.334-.154-.488-.436-.385-.667.103-.154.385-.231.719-.103.334.18.488.462.385.667z"/></svg></div></a><a href=https://www.linkedin.com/in/lbessell/ class=social-link target=_blank rel=noopener><div class=icon><svg width="35" height="35" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M106.786.0H8.189C3.67.0.0 3.722.0 8.291v98.418C0 111.278 3.67 115 8.189 115h98.597c4.518.0 8.214-3.722 8.214-8.291V8.29C115 3.722 111.304.0 106.786.0zm-72.03 98.571H17.713V43.69h17.07V98.57h-.025zm-8.522-62.377c-5.467.0-9.882-4.44-9.882-9.883.0-5.442 4.415-9.882 9.882-9.882 5.442.0 9.883 4.44 9.883 9.882a9.87 9.87.0 01-9.883 9.883zm72.414 62.377H81.604V71.875c0-6.366-.129-14.555-8.856-14.555-8.882.0-10.242 6.931-10.242 14.093V98.57H45.46V43.69h16.352v7.495h.23c2.285-4.312 7.855-8.856 16.147-8.856 17.25.0 20.458 11.372 20.458 26.158V98.57z"/></svg></div></a></div></header><div class=content-wrapper><div class=breadcrumb><span><a href=https://lbess.github.io/>Home</a>
/</span>
<span><a href=https://lbess.github.io/blog/>Blog</a>
/</span>
<span class=active><a href=https://lbess.github.io/blog/goodreads-scraping/>All I Wanted was a Currently Reading Section</a></span></div><main id=content class=blog><h1>All I Wanted was a Currently Reading Section</h1><div class=reading-time><div class=icon><svg width="18" height="18" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M57.5 11C29.05 11 6 34.05 6 62.5S29.05 114 57.5 114 109 90.95 109 62.5 85.95 11 57.5 11zm0 93.032c-22.947.0-41.532-18.585-41.532-41.532s18.585-41.532 41.532-41.532 41.532 18.585 41.532 41.532-18.585 41.532-41.532 41.532zm12.833-21.68L52.703 69.54a2.508 2.508.0 01-1.018-2.015V33.427a2.5 2.5.0 012.492-2.492h6.646a2.5 2.5.0 012.492 2.492v29.426l13.871 10.092c1.122.81 1.35 2.368.54 3.49l-3.904 5.377a2.51 2.51.0 01-3.489.54z"/></svg></div><span>4 minutes</span></div><div class=published-date><div class=icon><svg width="18" height="18" viewBox="0 0 115 115" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M77.577 51.23a1.807 1.807.0 00-2.2.342l-27.562 27.79a1.807 1.807.0 01-2.2.342l-14.008-9.702a1.807 1.807.0 00-2.2.342l-1.952 1.968c-.287.22-.456.568-.455.936.001.37.172.716.46.934L45.637 86.77a1.807 1.807.0 002.2-.342l31.709-31.97c.287-.22.456-.567.455-.936a1.175 1.175.0 00-.46-.933l-1.963-1.36z"/><path d="M97.304 20H80.512c-.041.34-.063.683-.064 1.026a5.986 5.986.0 001.256 4.1c.054.003.103.02.157.025a4.881 4.881.0 011.865-.025c3.05.562 4.984 3.907 4.32 7.47-.666 3.563-3.678 5.996-6.728 5.433a4.932 4.932.0 01-2.437-1.258c-6.018-1.378-10.445-7.795-10.445-15.745.0-.347.023-.685.04-1.026H34.579c-.041.34-.063.683-.064 1.026a5.986 5.986.0 001.256 4.1c.054.003.103.02.157.025a4.881 4.881.0 011.865-.025c3.05.562 4.984 3.907 4.32 7.47-.666 3.563-3.678 5.996-6.728 5.433a4.932 4.932.0 01-2.437-1.258c-6.018-1.378-10.445-7.795-10.445-15.745.0-.22.019-.434.025-.652a9.788 9.788.0 00-5.697 4.471 9.683 9.683.0 00-2.65 4.764L1.158 92.871c-.965 4.689 2.6 8.503 7.948 8.503h6.334v2.673c-.077 5.41 4.263 9.861 9.705 9.953h72.16c5.438-.095 9.774-4.546 9.694-9.953V29.953c.08-5.407-4.256-9.858-9.695-9.953zM10.078 96.653c-2.378.0-3.964-1.697-3.535-3.782L16.637 43.84h80.787L87.331 92.871a5.254 5.254.0 01-5.091 3.782H10.078zm91.535 7.394c.036 2.403-1.891 4.382-4.308 4.424h-72.16c-2.42-.04-4.352-2.018-4.32-4.424v-2.673h60.443c5.348.0 10.484-3.814 11.449-8.503l8.897-43.215v54.391z"/><path d="M34.814 33c1.243.0 2.251-1.057 2.251-2.36.0-1.305-1.008-2.362-2.25-2.362-2.04.0-4.313-3.194-4.313-7.778s2.272-7.778 4.312-7.778c1.227.0 2.536 1.163 3.386 3.084H43C41.716 11.19 38.578 8 34.814 8 29.871 8 26 13.49 26 20.5c0 7.009 3.871 12.5 8.814 12.5z"/></svg></div><span>March 7, 2022</span></div><h2 id=introduction>Introduction</h2><p>This is a story about how I added a currently reading section to my website.</p><p>Last summer one of my friends was showing me his website. He liked reading books as well, and had a nice little widget on the homepage that synced up to his Goodreads
account and displayed the books he was currently reading. I thought, &ldquo;Huh, that&rsquo;s neat. I&rsquo;ll need to add that to my website at some point.&rdquo;</p><p>Fast forward to February 2022, and I&rsquo;m arriving back to the States from a backpacking trip in Argentina. I&rsquo;ve seen too much nature the past month and want to
do some coding. I recall how I wanted to showcase the books I&rsquo;m currently reading by hooking up my website to my Goodreads account. Great, let&rsquo;s do it!</p><p><img src=/blog/images/stack-of-books.jpg alt="Stack of Books"></p><h2 id=development>Development</h2><p>The first thing I did was to look into the <a href=https://www.goodreads.com/api>Goodreads API</a>. This didn&rsquo;t get very far, because at the very top of the webpage Goodreads says:
&ldquo;As of December 8th 2020, Goodreads no longer issues new developer keys for our public developer API and plans to retire the current version of these tools&rdquo;.</p><p>Okay great, no problem (I think). What if I just scraped the books I&rsquo;m reading from Goodreads by downloading the page and parsing the HTML?
At first I tried doing this with Javascript, for obvious reasons. If the Javascript runs when my website is loaded, scrapes Goodreads, then adds the
corresponding books to my website&rsquo;s HTML code, then problem solved!</p><p>I faced two problems with this. The first was my lack of experience with web development and Javascript in general.
The second, and related, issue was that of <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors>CORS</a>. Essentially, I threw together a Javascript to do the scraping,
but when I tried to run this on my local server I just got CORS request failures. Okay no problem, I&rsquo;ll just look it up on Stackexchange. The problem I then faced was that
I was building my project via <a href=https://gohugo.io/>Hugo</a> (a static site generator) and running a local Hugo server.
I unfortunately could not find a way to remedy the CORS issue by modifying the Hugo server,
and didn&rsquo;t want to bother pushing the site to Github pages each time to see if my Javascript code was working.</p><p>After getting fed up with CORS, I recalled that there were these wonderful things called <a href=https://github.com/features/actions>Github Actions</a>, and that I could also do
scraping with Python&rsquo;s Beautiful Soup library. So, I wrote up a Python script to do the scraping and changing the website&rsquo;s HTML.
Then I started researching how to make my own Github actions. My idea here was this - the Python script will run on a schedule, say once a week,
and commit its changes (i.e. the books it gets from my Goodreads webpage). Then, another Github action will run Hugo to build my website again
and deploy it to Github Pages (the website hosting platform).</p><p>Github actions have come a long way from when I first tried using them (for a few minutes) a number of years ago. Now they have good documentation and an awesome
GUI to show you their progression. That being said, my understanding is that to test them, you have to push them to the repository (or a test repository).
If I was covering all my bases I ought to have made another branch and done my Github action testing there, but 1) this is my repo and I do what I want!
2) I didn&rsquo;t really think of it at the time, I thought it&rsquo;d be quicker than it was.</p><p>Thankfully there were others before me who thought to use Github actions to automate their Hugo workflow (albeit without this archaic Python scraper by yours truly).
This meant I could use an action someone else made to run Hugo and build the site, then create another action for my scraper. The most time consuming bug I ran into
was that the step that built the Hugo project was storing the files in the root directory, instead of <code>public/</code>. Github Pages was looking for files in the <code>public/</code>
directory to publish - which was empty - so the site was looking a bit barren. This problem was hard to debug because 1) the built files aren&rsquo;t commited to the main
branch, so there was no trace of them 2) other examples of using Github actions to build Hugo projects didn&rsquo;t seem to have this issue, or their projects were just set
up a bit differently than mine.</p><p><img src=/blog/images/github-actions.png alt="Stack of Books"></p><h2 id=conclusion>Conclusion</h2><p>Was this overengineered? Yes. Did it take more work than it needed to? Undoubtedly. Did I learn and ton and feel awesome when I finally got it to work? Absolutely.</p><p>If I were to do this again I&rsquo;d probably just stick with Javascript, but honestly, I&rsquo;m glad I took this roundabout path.</p><p>Anyhow, this is a long-winded post to document my strange adventure of adding a currently reading section to my website, such that now that it&rsquo;s deployed, I won&rsquo;t
have to do anything for it to update (Unless of course we lose Github actions or Goodreads)!</p></main></div><link href="https://fonts.googleapis.com/css?family=Montserrat:500,600|Raleway:400,400i,600" rel=stylesheet></body></html>