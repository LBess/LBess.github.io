name: Goodreads Scrape Scheduler
on:
  schedule:
    - cron: "0 * * * *"
  # Allows you to run this workflow manually from the Actions tab
  branches:
    - 'master'
  workflow_dispatch:
jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - name: Install BeautifulSoup
        run: pip install BeautifulSoup
      - name: Run scraper
        run: python goodreads-scraper.py
      - name: Commit and Push
        uses: devops-infra/action-commit-push@master
        with:
          github_token: "${{ secrets.GITHUB_TOKEN }}"
          add_timestamp: true
          commit_prefix: "[AUTO]"
          commit_message: "Automatic commit"
          force: false